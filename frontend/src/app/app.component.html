<div class="container">
  <h2>EcoRoutes - TSP Optimizer</h2>

  <div class="controls">
    <button (click)="addRandomPoint()">+ Add Random Point</button>
    <button (click)="optimize()" class="primary">
      Optimize Route
    </button>
    <button (click)="clear()" class="danger">Clear</button>
  </div>

  <div class="map-container">
    <svg [attr.width]="svgWidth"
         [attr.height]="svgHeight"
         class="map-svg">

      <rect width="100%" height="100%" fill="#1e1e1e" />

      <!-- Route Lines -->
      <g *ngIf="optimizedRoute.length > 0">
        <ng-container *ngFor="let point of optimizedRoute; let i = index">
          <line *ngIf="i < optimizedRoute.length - 1"
                [attr.x1]="point.x * scaleFactor"
                [attr.y1]="point.y * scaleFactor"
                [attr.x2]="optimizedRoute[i+1].x * scaleFactor"
                [attr.y2]="optimizedRoute[i+1].y * scaleFactor"
                stroke="#00ffcc"
                stroke-width="3" />
        </ng-container>
      </g>

      <!-- Points -->
      <g *ngFor="let p of points">
        <circle
          [attr.cx]="p.x * scaleFactor"
          [attr.cy]="p.y * scaleFactor"
          r="6"
          fill="#ff4081"
          stroke="white"
          stroke-width="2" />
      </g>

    </svg>
  </div>
</div>
